// import * as R from 'ramda';

import {
  FETCH_PHONES_SUCCESS,
  LOAD_MORE_PHONES_SUCCESS,
  FETCH_PHONE_BY_ID_SUCCESS
} from 'actionTypes';

const initialState = {};

export default (state = initialState, { type, payload }) => {
  switch (type) {
    case FETCH_PHONES_SUCCESS:
      //   const newValues = R.indexBy(R.prop('id'), payload);
      //   return R.merge(state, newValues);
      let newValues = {};
      payload.map(el => (newValues[el['id']] = el));
      return {
        ...state,
        ...newValues
      };

    case LOAD_MORE_PHONES_SUCCESS:
      let moreValues = {};
      payload.map(el => (moreValues[el['id']] = el));
      return {
        ...state,
        ...moreValues
      };

    case FETCH_PHONE_BY_ID_SUCCESS:
      // return R.assoc(payload.id, payload, state);
      let phoneById = {};
      phoneById[payload.id] = payload;
      return {
        ...state,
        ...phoneById
      };

    default:
      return state;
  }
};
